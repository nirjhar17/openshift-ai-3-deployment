<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 1400" style="background: #0f172a;">
  <defs>
    <!-- Gradients -->
    <linearGradient id="blueGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6"/>
      <stop offset="100%" style="stop-color:#1d4ed8"/>
    </linearGradient>
    <linearGradient id="redGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ef4444"/>
      <stop offset="100%" style="stop-color:#dc2626"/>
    </linearGradient>
    <linearGradient id="greenGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#22c55e"/>
      <stop offset="100%" style="stop-color:#16a34a"/>
    </linearGradient>
    <linearGradient id="yellowGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#eab308"/>
      <stop offset="100%" style="stop-color:#ca8a04"/>
    </linearGradient>
    <linearGradient id="purpleGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#a855f7"/>
      <stop offset="100%" style="stop-color:#7c3aed"/>
    </linearGradient>
    <linearGradient id="orangeGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f97316"/>
      <stop offset="100%" style="stop-color:#ea580c"/>
    </linearGradient>
    <linearGradient id="cyanGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#06b6d4"/>
      <stop offset="100%" style="stop-color:#0891b2"/>
    </linearGradient>
    <linearGradient id="pinkGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ec4899"/>
      <stop offset="100%" style="stop-color:#db2777"/>
    </linearGradient>
    
    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#94a3b8"/>
    </marker>
    <marker id="arrowheadGreen" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#22c55e"/>
    </marker>
  </defs>

  <!-- Title -->
  <text x="600" y="45" text-anchor="middle" fill="#f8fafc" font-family="Arial, sans-serif" font-size="28" font-weight="bold">OpenShift AI 3.0 Architecture</text>
  <text x="600" y="75" text-anchor="middle" fill="#94a3b8" font-family="Arial, sans-serif" font-size="16">LLM-D Inference Stack - Request Flow</text>

  <!-- USER / INTERNET -->
  <rect x="450" y="100" width="300" height="60" rx="10" fill="url(#blueGrad)"/>
  <text x="600" y="138" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="18" font-weight="bold">üåê User / Internet</text>
  
  <!-- Arrow 1 -->
  <line x1="600" y1="160" x2="600" y2="195" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="620" y="182" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11">HTTPS :443</text>

  <!-- AWS ELB -->
  <rect x="400" y="200" width="400" height="60" rx="10" fill="#1e293b" stroke="#f97316" stroke-width="2"/>
  <text x="600" y="238" text-anchor="middle" fill="#f97316" font-family="Arial, sans-serif" font-size="16" font-weight="bold">‚ö° AWS Load Balancer (ELB)</text>
  
  <!-- Arrow 2 -->
  <line x1="600" y1="260" x2="600" y2="295" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- OPENSHIFT CLUSTER BOX -->
  <rect x="50" y="300" width="1100" height="950" rx="15" fill="none" stroke="#ef4444" stroke-width="2" stroke-dasharray="8,4"/>
  <rect x="70" y="285" width="200" height="30" fill="#0f172a"/>
  <text x="170" y="305" text-anchor="middle" fill="#ef4444" font-family="Arial, sans-serif" font-size="14" font-weight="bold">OPENSHIFT CLUSTER</text>

  <!-- NAMESPACE: openshift-ingress -->
  <rect x="100" y="330" width="1000" height="150" rx="10" fill="#1e293b" stroke="#475569" stroke-width="1"/>
  <text x="130" y="355" fill="#94a3b8" font-family="Arial, sans-serif" font-size="12">NAMESPACE: openshift-ingress</text>
  
  <!-- Gateway -->
  <rect x="150" y="375" width="200" height="80" rx="8" fill="url(#greenGrad)"/>
  <text x="250" y="405" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="14" font-weight="bold">Gateway</text>
  <text x="250" y="425" text-anchor="middle" fill="#bbf7d0" font-family="Arial, sans-serif" font-size="11">openshift-ai-inference</text>
  <text x="250" y="445" text-anchor="middle" fill="#bbf7d0" font-family="Arial, sans-serif" font-size="10">HTTP:80 | HTTPS:443 | TLS</text>

  <!-- Arrow Gateway to Envoy -->
  <line x1="350" y1="415" x2="440" y2="415" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Envoy Proxy -->
  <rect x="450" y="375" width="200" height="80" rx="8" fill="url(#purpleGrad)"/>
  <text x="550" y="405" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="14" font-weight="bold">Envoy Proxy</text>
  <text x="550" y="425" text-anchor="middle" fill="#e9d5ff" font-family="Arial, sans-serif" font-size="11">Istio Service Mesh</text>
  <text x="550" y="445" text-anchor="middle" fill="#e9d5ff" font-family="Arial, sans-serif" font-size="10">EnvoyFilter</text>

  <!-- Arrow Envoy to AuthPolicy -->
  <line x1="650" y1="415" x2="740" y2="415" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- AuthPolicy Block -->
  <rect x="750" y="375" width="180" height="80" rx="8" fill="#1e293b" stroke="#eab308" stroke-width="2"/>
  <text x="840" y="405" text-anchor="middle" fill="#eab308" font-family="Arial, sans-serif" font-size="14" font-weight="bold">AuthPolicy</text>
  <text x="840" y="425" text-anchor="middle" fill="#fef08a" font-family="Arial, sans-serif" font-size="10">Route-level auth rules</text>
  <text x="840" y="445" text-anchor="middle" fill="#a1a1aa" font-family="Arial, sans-serif" font-size="10">enable-auth: true/false</text>

  <!-- Arrow down from Envoy to kuadrant -->
  <line x1="550" y1="455" x2="550" y2="515" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="570" y="490" fill="#94a3b8" font-family="Arial, sans-serif" font-size="10">gRPC :50051</text>

  <!-- NAMESPACE: kuadrant-system -->
  <rect x="100" y="520" width="1000" height="130" rx="10" fill="#1e293b" stroke="#475569" stroke-width="1"/>
  <text x="130" y="545" fill="#94a3b8" font-family="Arial, sans-serif" font-size="12">NAMESPACE: kuadrant-system</text>
  
  <!-- Authorino -->
  <rect x="250" y="560" width="220" height="70" rx="8" fill="url(#yellowGrad)"/>
  <text x="360" y="590" text-anchor="middle" fill="#1e293b" font-family="Arial, sans-serif" font-size="14" font-weight="bold">üîê Authorino</text>
  <text x="360" y="612" text-anchor="middle" fill="#422006" font-family="Arial, sans-serif" font-size="11">Authentication Engine</text>

  <!-- Arrow Authorino to Limitador -->
  <line x1="470" y1="595" x2="530" y2="595" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Limitador -->
  <rect x="540" y="560" width="220" height="70" rx="8" fill="url(#pinkGrad)"/>
  <text x="650" y="590" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="14" font-weight="bold">‚è±Ô∏è Limitador</text>
  <text x="650" y="612" text-anchor="middle" fill="#fbcfe8" font-family="Arial, sans-serif" font-size="11">Rate Limiting Engine</text>

  <!-- Auth Passed Arrow -->
  <line x1="550" y1="650" x2="550" y2="705" stroke="#22c55e" stroke-width="3" marker-end="url(#arrowheadGreen)"/>
  <text x="580" y="680" fill="#22c55e" font-family="Arial, sans-serif" font-size="11" font-weight="bold">‚úì Auth Passed</text>

  <!-- NAMESPACE: my-first-model -->
  <rect x="100" y="710" width="1000" height="500" rx="10" fill="#1e293b" stroke="#475569" stroke-width="1"/>
  <text x="130" y="735" fill="#94a3b8" font-family="Arial, sans-serif" font-size="12">NAMESPACE: my-first-model</text>

  <!-- HTTPRoute -->
  <rect x="200" y="755" width="220" height="70" rx="8" fill="url(#cyanGrad)"/>
  <text x="310" y="785" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="14" font-weight="bold">‚ÜóÔ∏è HTTPRoute</text>
  <text x="310" y="807" text-anchor="middle" fill="#cffafe" font-family="Arial, sans-serif" font-size="10">/my-first-model/qwen3-0-6b/*</text>

  <!-- Arrow HTTPRoute to InferencePool -->
  <line x1="420" y1="790" x2="480" y2="790" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- InferencePool -->
  <rect x="490" y="755" width="220" height="70" rx="8" fill="#1e293b" stroke="#6366f1" stroke-width="2"/>
  <text x="600" y="785" text-anchor="middle" fill="#6366f1" font-family="Arial, sans-serif" font-size="14" font-weight="bold">‚öôÔ∏è InferencePool</text>
  <text x="600" y="807" text-anchor="middle" fill="#a5b4fc" font-family="Arial, sans-serif" font-size="10">Groups vLLM pods</text>

  <!-- Arrow InferencePool to EPP -->
  <line x1="710" y1="790" x2="770" y2="790" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- EPP Scheduler -->
  <rect x="780" y="755" width="220" height="70" rx="8" fill="url(#orangeGrad)"/>
  <text x="890" y="785" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="14" font-weight="bold">üéØ EPP Scheduler</text>
  <text x="890" y="807" text-anchor="middle" fill="#fed7aa" font-family="Arial, sans-serif" font-size="10">Endpoint Picker Protocol</text>

  <!-- EPP Scoring Plugins Box -->
  <rect x="720" y="845" width="340" height="100" rx="8" fill="#0f172a" stroke="#f97316" stroke-width="1" stroke-dasharray="4,2"/>
  <text x="890" y="870" text-anchor="middle" fill="#f97316" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Scoring Plugins</text>
  
  <rect x="735" y="885" width="95" height="45" rx="4" fill="#1e293b"/>
  <text x="782" y="905" text-anchor="middle" fill="#fdba74" font-family="Arial, sans-serif" font-size="10">queue-scorer</text>
  <text x="782" y="920" text-anchor="middle" fill="#71717a" font-family="Arial, sans-serif" font-size="9">weight: 2</text>

  <rect x="840" y="885" width="95" height="45" rx="4" fill="#1e293b"/>
  <text x="887" y="905" text-anchor="middle" fill="#fdba74" font-family="Arial, sans-serif" font-size="10">kv-cache</text>
  <text x="887" y="920" text-anchor="middle" fill="#71717a" font-family="Arial, sans-serif" font-size="9">weight: 2</text>

  <rect x="945" y="885" width="100" height="45" rx="4" fill="#1e293b"/>
  <text x="995" y="905" text-anchor="middle" fill="#fdba74" font-family="Arial, sans-serif" font-size="10">prefix-cache</text>
  <text x="995" y="920" text-anchor="middle" fill="#71717a" font-family="Arial, sans-serif" font-size="9">weight: 3</text>

  <!-- Arrow EPP to Pods -->
  <line x1="890" y1="945" x2="890" y2="980" stroke="#94a3b8" stroke-width="2"/>
  <line x1="890" y1="980" x2="400" y2="980" stroke="#94a3b8" stroke-width="2"/>
  <line x1="890" y1="980" x2="700" y2="980" stroke="#94a3b8" stroke-width="2"/>
  <line x1="400" y1="980" x2="400" y2="1010" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="700" y1="980" x2="700" y2="1010" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- vLLM Pod 1 -->
  <rect x="250" y="1020" width="300" height="160" rx="10" fill="url(#greenGrad)"/>
  <text x="400" y="1055" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="16" font-weight="bold">üñ•Ô∏è vLLM Pod 1</text>
  <text x="400" y="1080" text-anchor="middle" fill="#bbf7d0" font-family="Arial, sans-serif" font-size="12">qwen3-0-6b-predictor-xxx</text>
  
  <rect x="280" y="1095" width="240" height="70" rx="6" fill="rgba(0,0,0,0.3)"/>
  <text x="400" y="1118" text-anchor="middle" fill="#86efac" font-family="Arial, sans-serif" font-size="11">Container: vllm-openai</text>
  <text x="400" y="1138" text-anchor="middle" fill="#86efac" font-family="Arial, sans-serif" font-size="11">Model: Qwen3-0.6B</text>
  <text x="400" y="1155" text-anchor="middle" fill="#4ade80" font-family="Arial, sans-serif" font-size="11">üéÆ GPU: NVIDIA T4 | Port: 8000</text>

  <!-- vLLM Pod 2 -->
  <rect x="600" y="1020" width="300" height="160" rx="10" fill="url(#greenGrad)"/>
  <text x="750" y="1055" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="16" font-weight="bold">üñ•Ô∏è vLLM Pod 2</text>
  <text x="750" y="1080" text-anchor="middle" fill="#bbf7d0" font-family="Arial, sans-serif" font-size="12">qwen3-0-6b-predictor-yyy</text>
  
  <rect x="630" y="1095" width="240" height="70" rx="6" fill="rgba(0,0,0,0.3)"/>
  <text x="750" y="1118" text-anchor="middle" fill="#86efac" font-family="Arial, sans-serif" font-size="11">Container: vllm-openai</text>
  <text x="750" y="1138" text-anchor="middle" fill="#86efac" font-family="Arial, sans-serif" font-size="11">Model: Qwen3-0.6B</text>
  <text x="750" y="1155" text-anchor="middle" fill="#4ade80" font-family="Arial, sans-serif" font-size="11">üéÆ GPU: NVIDIA T4 | Port: 8000</text>

  <!-- Response Arrow -->
  <path d="M 575 1180 L 575 1220 L 150 1220 L 150 130 L 440 130" stroke="#22c55e" stroke-width="2" fill="none" stroke-dasharray="6,3" marker-end="url(#arrowheadGreen)"/>
  <text x="200" y="1210" fill="#22c55e" font-family="Arial, sans-serif" font-size="11" font-weight="bold">Response: {"choices": [...]}</text>

  <!-- Legend -->
  <rect x="100" y="1280" width="1000" height="80" rx="10" fill="#0f172a" stroke="#334155" stroke-width="1"/>
  <text x="130" y="1310" fill="#f8fafc" font-family="Arial, sans-serif" font-size="14" font-weight="bold">Legend:</text>
  
  <rect x="130" y="1325" width="15" height="15" fill="url(#greenGrad)"/>
  <text x="155" y="1337" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11">Gateway/Pods</text>
  
  <rect x="270" y="1325" width="15" height="15" fill="url(#purpleGrad)"/>
  <text x="295" y="1337" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11">Service Mesh</text>
  
  <rect x="400" y="1325" width="15" height="15" fill="url(#yellowGrad)"/>
  <text x="425" y="1337" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11">Authentication</text>
  
  <rect x="540" y="1325" width="15" height="15" fill="url(#pinkGrad)"/>
  <text x="565" y="1337" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11">Rate Limiting</text>
  
  <rect x="670" y="1325" width="15" height="15" fill="url(#cyanGrad)"/>
  <text x="695" y="1337" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11">Routing</text>
  
  <rect x="770" y="1325" width="15" height="15" fill="url(#orangeGrad)"/>
  <text x="795" y="1337" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11">Scheduling</text>

  <line x1="900" y1="1325" x2="930" y2="1325" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="940" y="1330" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11">Request Flow</text>

  <line x1="900" y1="1345" x2="930" y2="1345" stroke="#22c55e" stroke-width="2" stroke-dasharray="4,2" marker-end="url(#arrowheadGreen)"/>
  <text x="940" y="1350" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11">Response Flow</text>

</svg>
